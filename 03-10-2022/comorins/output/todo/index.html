<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
 
    <title>Document</title>
</head>
<body>
    <div class="container">
        <div class="w-50 mx-auto my-5">
            <input type="text" id="items"class="">
            <button onclick="addd()">Add</button>
            <button onclick="Empty()">EmptyList</button>
            <ul id="todo" class="m-5"></ul>
        </div>
        
     
    </div>

    

    <script>
        if(! localStorage.getItem("todos")){
            localStorage.setItem("todos",JSON.stringify([]));
        }
        let list =JSON.parse(localStorage.getItem("todos"));
        function addd(){
                let todo=document.getElementById("items").value;
                // console.log(list)
                list.push(todo);
                localStorage.setItem("todos",JSON.stringify(list));
                document.getElementById("items").value="";
            display();
        }  
        function display(){
            let ele="";
            let list_array=JSON.parse(localStorage.getItem("todos"));
            // console.log(list_array)
            for(let i=0; i<list_array.length; i++){
                ele =ele+"<li class='m-3'>"+list_array[i]+"<button onclick='clearc("+ i +")' class='ml-3'>"+"Delete"+"</button>"+"</li>";
            }
            document.getElementById("todo").innerHTML=ele;
        //     todo.addEventListener("click",function (){
        //         todo.style.textDecoration="line-through";
        //     // document.getElementById("todo").innerHTML=ele;
        // })
        }
        function Empty(){
            localStorage.removeItem("todos");
            this.display
            ele=null;
            document.getElementById("todo").innerHTML=ele;
            setTimeout("location.reload(true);", 0);
        }
        function clearc(position){
           let list_new=JSON.parse(localStorage.getItem("todos")); 
            list.splice(position,1);
            console.log(list);
            localStorage.setItem("todos",JSON.stringify(list));
            display();
            // document.getElementById("todo").innerHTML=ele;
            
    
        //     this.display
        //     ele.addEventListener("dblclick", function(){
        //         ele.style.textDecoration="line-through";

            

        // })
    }
        display();
    </script>
</body>
</html>